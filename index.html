<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>â˜•ğŸŒ The Last Human Cafe v2</title>
    <style>
        * { box-sizing: border-box; }
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: #eee;
            min-height: 100vh;
            margin: 0;
            padding: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .game-container {
            background: rgba(0,0,0,0.85);
            border-radius: 25px;
            padding: 25px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 0 50px rgba(138,43,226,0.4);
            border: 2px solid rgba(138,43,226,0.3);
        }
        h1 {
            text-align: center;
            font-size: 22px;
            margin: 10px 0;
            background: linear-gradient(90deg, #ff6b6b, #feca57, #48dbfb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .title-emoji { 
            font-size: 50px; 
            display: block; 
            text-align: center; 
            margin-bottom: 10px;
            animation: float 2s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        #story {
            min-height: 180px;
            margin: 15px 0;
            padding: 15px;
            background: rgba(255,255,255,0.08);
            border-radius: 15px;
            line-height: 1.7;
            font-size: 15px;
        }
        #story p { margin: 12px 0; }
        .narrative { color: #a8e6cf; }
        .dialogue { color: #ffd93d; font-style: italic; }
        .action { color: #ff6b6b; }
        .choices {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            padding: 14px 16px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 14px;
            font-family: inherit;
            transition: all 0.3s;
            text-align: left;
        }
        button:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 20px rgba(102,126,234,0.5);
        }
        button:active { transform: scale(0.98); }
        .rating {
            text-align: center;
            font-size: 18px;
            margin: 15px 0;
            padding: 12px;
            background: rgba(255,215,0,0.15);
            border-radius: 12px;
            border: 1px solid rgba(255,215,0,0.3);
        }
        .rating span { color: #ffd700; font-weight: bold; }
        .hidden { display: none; }
        .fade-in { animation: fadeIn 0.5s; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .day-indicator {
            text-align: center;
            color: #48dbfb;
            font-size: 14px;
            margin-bottom: 10px;
        }
        .progress-bar {
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            margin: 10px 0;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #feca57, #48dbfb);
            transition: width 0.5s;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>â˜•ğŸŒ The Last Human Cafe ğŸŒâ˜•</h1>
        <span class="title-emoji">ğŸ‘½â˜•ğŸŒ</span>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progress" style="width: 0%"></div>
        </div>
        
        <div id="rating-display" class="rating hidden">
            â­ Cafe Rating: <span id="rating-value">50</span>/100
        </div>
        
        <div id="story" class="fade-in">
            <p>ğŸ‘‹ <span class="narrative"><strong>Welcome, brave Zog!</strong></span></p>
            <p><span class="narrative">You've traveled 47 billion light-years to open Earth's last coffee shop.</span></p>
            <p><span class="narrative">Humans have almost forgotten the taste of coffee...</span></p>
            <p><span class="action">ğŸ’¡ Your mission: Reintroduce coffee to humanity!</span></p>
        </div>
        
        <div id="choices" class="choices">
            <button onclick="startGame()">ğŸš€ Begin Your Coffee Adventure</button>
        </div>
    </div>

    <script>
        let rating = 50;
        let currentDay = 0;
        
        // Enhanced storylines with more depth
        const scenarios = [
            {
                day: 1,
                intro: "<p>ğŸ“… <strong>DAY 1 - Grand Opening!</strong></p><p><span class='narrative'>Your cafe 'Zog's Cosmic Brew' is finally open! The sign flickers with alien neon.</span></p>",
                customers: [
                    { 
                        name: "ğŸ‘´ Old Tom", 
                        text: "Coffee? Haven't had that since the Great Bean Shortage of 2089...",
                        backstory: "Tom remembers when coffee was worth more than gold.",
                        choices: [
                            { text: "ğŸ¤— 'Welcome! Let me make you a memory!' (+15)", points: 15, response: "Tom's eyes well up. 'It tastes like my grandmother's kitchen...'" },
                            { text: "â˜• 'Try our Cosmic Blend - made from Mars beans!' (+20)", points: 20, response: "'Mars beans?!' Tom looks amazed. 'We used to dream of space coffee...'" },
                            { text: "ğŸ”¬ 'Coffee is 0.003% caffeine. Mathematically optimal.' (+10)", points: 10, response: "Tom stares blankly. 'I... guess that's good?'" }
                        ]
                    }
                ]
            },
            {
                day: 2,
                intro: "<p>ğŸ“… <strong>DAY 2 - Word Spreads</strong></p><p><span class='narrative'>A small crowd gathers outside. Word of the alien coffee shop is getting around.</span></p>",
                customers: [
                    { 
                        name: "ğŸ’¼ Business Zombie Megan", 
                        text: "I haven't slept in 72 hours. I need something to keep me awake for my presentation!",
                        backstory: "Megan is a startup founder surviving on energy drinks.",
                        choices: [
                            { text: "âš¡ 'Extra Shot Espresso - WARNING: May cause levitation!' (+25)", points: 25, response: "'Perfect!' She drinks it. 'I can see sounds now. This is GREAT for brainstorming!'" },
                            { text: "ğŸµ 'Calm Matcha - Balance your energy naturally' (+15)", points: 15, response: "'Ugh, boring.' She leaves, but comes back 10 minutes later: 'Actually, I'm calm. I like it.'" },
                            { text: "ğŸ§  'Quantum Coffee - Think 10x faster!' (+20)", points: 20, response: "'Finally, something useful!' She scribbles ideas rapidly." }
                        ]
                    },
                    { 
                        name: "ğŸ¨ Artist Bella", 
                        text: "I need inspiration for my exhibition tomorrow!",
                        backstory: "Bella is an aspiring artist who lost her creative spark.",
                        choices: [
                            { text: "ğŸŒˆ 'Rainbow Latte - Colors of the Universe!' (+25)", points: 25, response: "'INSPIRATION!' She stares at the latte. 'The colors... I see the meaning of existence!'" },
                            { text: "ğŸ“– 'Story Coffee - Each sip tells a tale' (+20)", points: 20, response: "Bella closes her eyes. 'I taste a story of a lonely alien making coffee on Earth... I can paint that!'" },
                            { text: "ğŸµ 'Musical Mocha - Hear the beans sing!' (+15)", points: 15, response: "'Interesting...' She hums along. 'A bit off-key, but I can work with this.'" }
                        ]
                    }
                ]
            },
            {
                day: 3,
                intro: "<p>ğŸ“… <strong>DAY 3 - The Big Day!</strong></p><p><span class='narrative'>A journalist is coming! The fate of your cafe will be decided!</span></p>",
                customers: [
                    { 
                        name: "ğŸ“¸ Journalist Jake", 
                        text: "I'm writing an article: 'Is Alien Coffee the Future or a Scam?'",
                        backstory: "Jake is skeptical but curious. His article could make or break you.",
                        choices: [
                            { text: "ğŸ¬ 'Let me show you the ENTIRE process!' (+30)", points: 30, response: "'Wow! The holographic bean-roasting show... this will make a great article! â­â­â­â­â­'" },
                            { text: "â˜• 'Just taste. Words can't describe it.' (+20)", points: 20, response: "He takes a sip... and cries. 'It's... it's... I've found inner peace.'" },
                            { text: "ğŸ¤« 'I have a secret ingredient. It's... love.' (+15)", points: 15, response: "He raises an eyebrow. 'Very mysterious. I'll write about the mysterious alien.'" }
                        ]
                    },
                    { 
                        name: "ğŸ‘½ Ambassador Zyx", 
                        text: "Greetings, fellow being! I've come from the Galactic Coffee Confederacy!",
                        backstory: "An alien dignitary here to evaluate Earth's coffee readiness.",
                        choices: [
                            { text: "ğŸŒŸ 'Welcome! Try our best blend!' (+35)", points: 35, response: "'EXCELLENT! Earth is ready to join the Galactic Coffee Alliance!'" },
                            { text: "ğŸ˜° 'Uhh... we only have 3 types of coffee...' (+10)", points: 10, response: "'Humble AND delicious! The Confederacy loves humility.'" },
                            { text: "ğŸ­ 'Let me show you our HUMAN coffee culture!' (+25)", points: 25, response: "'Fascinating! The pumpkin spice phenomenon... we'll study this back home!'" }
                        ]
                    }
                ]
            }
        ];
        
        function startGame() {
            rating = 50;
            currentDay = 0;
            showDay();
        }
        
        function showDay() {
            currentDay++;
            
            // Update progress bar
            document.getElementById('progress').style.width = ((currentDay-1) / 3 * 100) + '%';
            
            if (currentDay > 3) {
                showEnding();
                return;
            }
            
            const scenario = scenarios[currentDay - 1];
            const customer = scenario.customers[Math.floor(Math.random() * scenario.customers.length)];
            
            // Build story with backstory
            let html = scenario.intro;
            html += `<p class='action'>ğŸšª <strong>${customer.name}</strong> enters!</p>`;
            html += `<p class='dialogue'>"${customer.text}"</p>`;
            
            document.getElementById('story').innerHTML = html;
            document.getElementById('story').classList.remove('fade-in');
            void document.getElementById('story').offsetWidth;
            document.getElementById('story').classList.add('fade-in');
            
            // Build choices
            let choicesHtml = '';
            customer.choices.forEach((c, i) => {
                choicesHtml += `<button onclick="makeChoice(${c.points}, '${c.response.replace(/'/g, "\\'")}')">${c.text}</button>`;
            });
            document.getElementById('choices').innerHTML = choicesHtml;
            
            document.getElementById('rating-display').classList.remove('hidden');
            document.getElementById('rating-value').textContent = rating;
        }
        
        function makeChoice(points, response) {
            const variation = Math.floor(Math.random() * 11) - 5; // -5 to +5
            const gained = points + variation;
            rating += gained;
            rating = Math.min(100, Math.max(0, rating));
            
            // Show response
            document.getElementById('story').innerHTML = `<p class='action'>${response}</p><p class='rating'>â­ Rating changed: +${gained}</p>`;
            
            setTimeout(() => {
                showDay();
            }, 2000);
        }
        
        function showEnding() {
            document.getElementById('progress').style.width = '100%';
            document.getElementById('choices').innerHTML = '<button onclick="startGame()">ğŸ”„ Play Again</button>';
            
            let html = '';
            
            if (rating >= 85) {
                html = `
                    <p style='text-align:center;font-size:40px'>ğŸ†ğŸ†ğŸ†</p>
                    <h2 style='color:#ffd700;text-align:center'>LEGENDARY CAFE!</h2>
                    <p class='narrative'>Your cafe is famous across the GALAXY!</p>
                    <p class='narrative'>â€¢ The Galactic Coffee Confederacy wants to franchise</p>
                    <p class='narrative'>â€¢ Humans line up for blocks to try your coffee</p>
                    <p class='narrative'>â€¢ You've sparked a coffee renaissance on Earth!</p>
='text-align:center;font-size:30                    <p stylepx'>ğŸŒŸğŸŒŸğŸŒŸ YOU WIN! ğŸŒŸğŸŒŸğŸŒŸ</p>
                `;
            } else if (rating >= 60) {
                html = `
                    <p style='text-align:center;font-size:40px'>â­â­</p>
                    <h2 style='color:#feca57;text-align:center'>BELOVED NEIGHBORHOOD CAFE</h2>
                    <p class='narrative'>Your little shop has loyal customers!</p>
                    <p class='narrative'>â€¢ Tom comes in every morning</p>
                    <p class='narrative'>â€¢ The artist painted your portrait</p>
                    <p class='narrative'>â€¢ Not famous, but deeply loved ğŸ’•</p>
                `;
            } else if (rating >= 40) {
                html = `
                    <p style='text-align:center;font-size:40px'>â­</p>
                    <h2 style='color:#74b9ff;text-align:center'>SURVIVED... JUST BARELY</h2>
                    <p class='narrative'>Your cafe is... okay?</p>
                    <p class='narrative'>â€¢ Some customers liked it</p>
                    <p class='narrative'>â€¢ Others were confused</p>
                    <p class='narrative'>â€¢ Maybe try different recipes? ğŸ¤”</p>
                `;
            } else {
                html = `
                    <p style='text-align:center;font-size:40px'>ğŸ’€</p>
                    <h2 style='color:#ff6b6b;text-align:center'>CLOSED... FOR NOW</h2>
                    <p class='narrative'>The humans weren't ready for alien coffee...</p>
                    <p class='narrative'>â€¢ But you learned a lot!</p>
                    <p class='narrative'>â€¢ Next time, start with decaf â˜•</p>
                    <p class='narrative'>â€¢ The universe is full of other planets! ğŸ›¸</p>
                `;
            }
            
            document.getElementById('story').innerHTML = html;
            document.getElementById('story').className = 'fade-in';
            document.getElementById('rating-value').textContent = rating;
        }
    </script>
</body>
</html>
